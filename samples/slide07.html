<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Strategy Engine - Performance Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');

        :root {
            --brand-dark: #0f172a;
            --brand-cyan: #22d3ee;
            --brand-indigo: #818cf8;
            --card-bg: #ffffff;
            --page-bg: #f8fafc;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--page-bg);
            color: var(--brand-dark);
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .engine-card {
            background: var(--card-bg);
            border-radius: 1.5rem;
            box-shadow: 0 4px 20px -5px rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(226, 232, 240, 0.8);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .label-text {
            font-size: 0.55rem;
            font-weight: 700;
            letter-spacing: 0.12em;
            color: #94a3b8;
            text-transform: uppercase;
        }

        .progress-bar {
            height: 6px;
            background: #f1f5f9;
            border-radius: 999px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--brand-indigo), var(--brand-cyan));
            border-radius: 999px;
        }

        .status-pill {
            padding: 2px 10px;
            border-radius: 6px;
            font-size: 0.6rem;
            font-weight: 800;
            text-transform: uppercase;
        }

        .status-verified { background: #f0fdf4; color: #16a34a; border: 1px solid #dcfce7; }
        .status-review { background: #fefce8; color: #ca8a04; border: 1px solid #fef9c3; }
        .status-partial { background: #fff1f2; color: #e11d48; border: 1px solid #ffe4e6; }

        .custom-scrollbar::-webkit-scrollbar { width: 3px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #e2e8f0; border-radius: 10px; }

        .chart-legend-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
        }
    </style>
</head>
<body class="p-4 lg:p-6">

    <!-- Compact Header -->
    <header class="flex justify-between items-center mb-4 shrink-0">
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 bg-[#0f172a] rounded-xl flex items-center justify-center shadow-md">
                <i data-lucide="zap" class="text-white w-5 h-5"></i>
            </div>
            <div>
                <h1 class="font-extrabold text-xl tracking-tight leading-none">STRATEGY ENGINE</h1>
                <div class="flex items-center gap-1.5 mt-0.5">
                    <div class="w-1.5 h-1.5 rounded-full bg-cyan-400"></div>
                    <p class="label-text leading-none">Intelligence Portal</p>
                </div>
            </div>
        </div>

        <div class="flex items-center gap-6">
            <div class="text-right">
                <p class="label-text">Stream Focus</p>
                <h2 class="text-lg font-extrabold uppercase tracking-tight">Jan 2026</h2>
            </div>
            <div class="w-10 h-10 rounded-full border border-slate-200 flex items-center justify-center font-extrabold text-sm">
                07
            </div>
        </div>
    </header>

    <!-- Content Grid -->
    <div class="grid grid-cols-12 gap-4 flex-1 min-h-0">
        
        <!-- Left Sidebar Style Column -->
        <div class="col-span-3 flex flex-col gap-4 min-h-0">
            
            <!-- Performance Section -->
            <section class="engine-card p-5 shrink-0">
                <p class="label-text mb-4">Baseline Performance</p>
                <div class="flex items-baseline gap-0.5 mb-4">
                    <span class="text-5xl font-extrabold tracking-tighter">72</span>
                    <span class="text-xl font-extrabold text-cyan-500">.3</span>
                    <span class="label-text ml-2">% Avg</span>
                </div>
                <div class="progress-bar mb-4">
                    <div class="progress-fill" style="width: 72.3%;"></div>
                </div>
                <p class="text-[10px] text-slate-400 leading-tight italic">
                    Strategic efficiency calculated across last 14 release cycles.
                </p>
            </section>

            <!-- Execution Context Section -->
            <section class="engine-card p-5 flex-1 min-h-0">
                <p class="label-text mb-4">Execution Context</p>
                <div class="overflow-y-auto custom-scrollbar pr-1">
                    <ul class="space-y-4">
                        <li class="flex gap-3">
                            <div class="w-1 h-1 rounded-full bg-indigo-500 mt-1.5 shrink-0"></div>
                            <p class="text-[11px] font-medium text-slate-600 leading-snug">Q4-25 transition stabilized during current stream.</p>
                        </li>
                        <li class="flex gap-3">
                            <div class="w-1 h-1 rounded-full bg-cyan-400 mt-1.5 shrink-0"></div>
                            <p class="text-[11px] font-medium text-slate-600 leading-snug">Production hardening achieved 100% completion in recent milestones.</p>
                        </li>
                        <li class="flex gap-3">
                            <div class="w-1 h-1 rounded-full bg-slate-300 mt-1.5 shrink-0"></div>
                            <p class="text-[11px] text-slate-500 italic leading-snug">Sprint 26 duplicate work issues monitored for root cause.</p>
                        </li>
                    </ul>
                </div>
                <div class="mt-4 pt-4 border-t border-slate-50">
                    <div class="flex justify-between items-center">
                        <p class="label-text !text-[0.5rem]">Engine Vers.</p>
                        <p class="text-[10px] font-bold">v2.4.0</p>
                    </div>
                </div>
            </section>
        </div>

        <!-- Right Main Column -->
        <div class="col-span-9 flex flex-col gap-4 min-h-0">
            
            <!-- Charts Area -->
            <section class="engine-card flex flex-col min-h-0" style="height: 45%;">
                <div class="flex justify-between items-center px-5 pt-4 pb-2 shrink-0">
                    <p class="label-text">Velocity Lifecycle Analytics</p>
                    <div class="flex gap-4">
                        <div class="flex items-center gap-1.5">
                            <div class="chart-legend-dot bg-slate-100"></div>
                            <span class="label-text !text-[0.5rem]">Commit</span>
                        </div>
                        <div class="flex items-center gap-1.5">
                            <div class="chart-legend-dot bg-cyan-400"></div>
                            <span class="label-text !text-[0.5rem]">Deliver</span>
                        </div>
                    </div>
                </div>
                <div class="flex-1 min-h-0 px-3 pb-3">
                    <canvas id="velocityChart"></canvas>
                </div>
            </section>

            <!-- Ledger Area -->
            <section class="engine-card flex flex-col min-h-0" style="height: 55%;">
                <!-- Sticky Table Header -->
                <div class="px-5 py-3 border-b border-slate-50 bg-slate-50/50 flex justify-between items-center shrink-0">
                    <div class="grid grid-cols-12 w-full gap-4">
                        <div class="col-span-2 label-text">Period</div>
                        <div class="col-span-5 label-text">Operational Identity</div>
                        <div class="col-span-3 label-text text-center">Velocity %</div>
                        <div class="col-span-2 label-text text-right">Outcome</div>
                    </div>
                </div>
                
                <!-- Scrollable Body -->
                <div class="flex-1 overflow-y-auto custom-scrollbar p-2" id="sprint-ledger">
                    <!-- Rows injected via JS -->
                </div>
            </section>
        </div>
    </div>

    <script>
        // Professional Data Mapping
        const sprintData = [
            { period: "JAN '26", name: 'Sprint 02', desc: 'Current state baseline verified', velocity: '100%', status: 'verified' },
            { period: "JAN '26", name: 'Sprint 01', desc: 'Stability benchmark established', velocity: '100%', status: 'verified' },
            { period: "DEC '25", name: 'Sprint 26', desc: 'Minor duplicate work spillover', velocity: '97.6%', status: 'review' },
            { period: "DEC '25", name: 'Sprint 25', desc: 'Targets exceeded significantly', velocity: '133.3%', status: 'verified' },
            { period: "DEC '25", name: 'Sprint 24', desc: 'Spillover: 4 points identified', velocity: '81.0%', status: 'partial' },
            { period: "NOV '25", name: 'Sprint 23', desc: 'Capacity constraints during transition', velocity: '46.7%', status: 'partial' },
            { period: "NOV '25", name: 'Sprint 22', desc: 'Operational flow stabilization', velocity: '100%', status: 'verified' }
        ];

        const chartLabels = ['S15', 'S16', 'S17', 'S18', 'S19', 'S20', 'S21', 'S22', 'S23', 'S24', 'S25', 'S26', 'S01', 'S02'];
        const chartCommit = [29, 14, 17, 12, 18, 20, 24, 17, 15, 21, 21, 21, 13, 8];
        const chartDeliver = [29, 14, 6, 7, 0, 12, 7, 17, 7, 17, 28, 20.5, 13, 8];

        // Populate Ledger
        const ledger = document.getElementById('sprint-ledger');
        sprintData.forEach(item => {
            const row = document.createElement('div');
            row.className = 'grid grid-cols-12 items-center gap-4 p-3 mb-1 rounded-xl bg-[#f8fafc]/30 border border-transparent hover:border-slate-100 hover:bg-white transition-all cursor-default group';
            row.innerHTML = `
                <div class="col-span-2 text-[10px] font-bold text-slate-400">${item.period}</div>
                <div class="col-span-5">
                    <p class="font-bold text-slate-800 text-xs">${item.name}</p>
                    <p class="text-[9px] text-slate-400 italic truncate pr-4">${item.desc}</p>
                </div>
                <div class="col-span-3 text-center text-sm font-extrabold text-slate-700">${item.velocity}</div>
                <div class="col-span-2 text-right">
                    <span class="status-pill status-${item.status}">${item.status === 'verified' ? 'Verified' : item.status === 'review' ? 'Review' : 'Partial'}</span>
                </div>
            `;
            ledger.appendChild(row);
        });

        // Initialize Velocity Chart
        const ctx = document.getElementById('velocityChart').getContext('2d');
        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: chartLabels,
                datasets: [
                    {
                        label: 'Commit',
                        data: chartCommit,
                        backgroundColor: '#f1f5f9',
                        borderRadius: 3,
                        barThickness: 'flex',
                        maxBarThickness: 40
                    },
                    {
                        label: 'Deliver',
                        data: chartDeliver,
                        backgroundColor: '#22d3ee',
                        borderRadius: 3,
                        barThickness: 'flex',
                        maxBarThickness: 40
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                layout: {
                    padding: {
                        top: 5,
                        right: 5,
                        bottom: 0,
                        left: 0
                    }
                },
                plugins: { 
                    legend: { display: false },
                    tooltip: {
                        backgroundColor: 'rgba(15, 23, 42, 0.9)',
                        padding: 8,
                        cornerRadius: 6,
                        titleFont: { size: 11, weight: 'bold' },
                        bodyFont: { size: 10 }
                    }
                },
                scales: {
                    x: {
                        grid: { display: false },
                        ticks: { 
                            font: { size: 9, weight: '600' }, 
                            color: '#94a3b8',
                            padding: 3
                        }
                    },
                    y: {
                        beginAtZero: true,
                        grid: { 
                            color: '#f1f5f9', 
                            borderDash: [3, 3],
                            drawBorder: false
                        },
                        ticks: { 
                            font: { size: 9 }, 
                            color: '#cbd5e1', 
                            stepSize: 10,
                            padding: 5
                        }
                    }
                }
            }
        });

        // Initialize Icons
        lucide.createIcons();
    </script>
</body>
</html>